"use strict";function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _createClass(t,n,a){return n&&_defineProperties(t.prototype,n),a&&_defineProperties(t,a),t}var Cart=function(){function t(){_classCallCheck(this,t),this.addEvent()}return _createClass(t,[{key:"addEvent",value:function(){var t=$.cookie("carts")?$.cookie("carts"):"";if(t){var n=convertStrToObj(t),a='\n            <ul class="cartHead">\n            <li>缩略图</li>\n            <li>品名</li>\n            <li>单价</li>\n            <li>数量</li>\n            <li>小计</li>\n            <li>操作</li>\n        </ul>\n    ';for(var e in n){var r=n[e];console.log(r),a+='\n                <li><img src="'.concat(r.img,'" /></li>\n                <li>测试</li>\n                <li>').concat(r.price,'</li>\n                <li class="num">\n                    <a href="javascript:;" class="minus">-</a>\n                    <input type="text" name="" id="" value="').concat(r.num,'" />\n                    <a href="javascript:;" class="plus">+</a>\n                </li>\n                <li class="total">').concat(r.price*r.num,'</li>\n                <li><a href="javascript:;" class="del">删除</a></li>'),parseInt(r.price),parseInt(r.num)}$(".goodInfo").html(a)}else $(".blank").css("display","block");$(".minus").on("click",function(){var t=$(this).parent().parent().attr("data-good-id"),n=$.cookie("carts")?$.cookie("carts"):"",a=convertStrToObj(n);1<a[t].num&&a[t].num--,$.cookie("carts",JSON.stringify(a),{expires:7,path:"/"});var e=0;for(var r in a){var i=a[r];e+=parseInt(i.price)*parseInt(i.num)}$(this).next().html(a[t].num),$(this).parent().next().html(a[t].num*a[t].price),$("#total").html(e)}),$(".plus").on("click",function(){var t=$(this).parent().parent().attr("data-good-id"),n=$.cookie("carts")?$.cookie("carts"):"",a=convertStrToObj(n);a[t].num++,$.cookie("carts",JSON.stringify(a),{expires:7,path:"/"});var e=0;for(var r in a){var i=a[r];e+=parseInt(i.price)*parseInt(i.num)}$(this).prev().html(a[t].num),$(this).parent().next().html(a[t].num*a[t].price),$("#total").html(e)}),$(".del").on("click",function(){var t=$(this).parent().parent().attr("data-good-id"),n=$.cookie("carts")?$.cookie("carts"):"",a=convertStrToObj(n);delete a[t],$.cookie("carts",JSON.stringify(a),{expires:7,path:"/"});var e=0;for(var r in a){var i=a[r];e+=parseInt(i.price)*parseInt(i.num)}$(this).parent().parent().remove(),$("#total").html(e)})}}]),t}();new Cart;